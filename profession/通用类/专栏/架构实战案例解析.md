# 架构实战按理解析--极客时间专栏
***
## 架构概览
### 为什么需要架构
&ensp;&ensp;&ensp;&ensp;在系统的演进过程中，内部变的复杂，不易于理解。架构就是为了解决复杂性，通过组织让系统高度有序，能够不断的扩展，满足业务和技术的变化。

### 架构的基本手段
- 分：将系统拆分为各个子系统、模块、组件
- 合：基于业务流程和技术手段，把各个组件有机整合在一起

### 架构的分类
&ensp;&ensp;&ensp;&ensp;业务的复杂性可分为人的理解复杂性和机器复杂度

- 人的理解复杂性：能够清楚这个系统的业务流程和模块之间的关联，便于编写代码
    - 业务架构：讲清楚核心业务的处理流程，定义各个业务模块的相互关系，从概念层次帮助我们理解系统面临哪些问题以及如何处理
    - 应用架构：讲清楚系统内部是如何组织的，有哪些应用，相互之间是怎么调用的，从逻辑层面帮助我们理解系统内部是如何分工和协作的

- 机器的复杂性：系统能够水平扩展，支持硬件容错，保证系统的高性能和高可用
    - 技术架构：讲清楚系统由难写硬件、操作系统和中间件组成，他们是如何和我们开发的应用一起配合，应对各种异常情况，保持系统的稳定可用。从物理层面帮助我们理解系统是如何勾走的，如何解决稳定性的问题

### 好的架构设计标准
&ensp;&ensp;&ensp;&ensp;一个好的架构设计既要满足页面的可扩展、可服用；也要满足系统的高可用、搞性能和可伸缩，并尽量采用低成本的方式落地

## 业务架构
### 业务架构流程实例
- 1.需求整理、业务流程
- 2.业务域拆分，划分系统不同模块
- 3.业务的可扩展性：把业务平台和业务线分离，业务平台封装通用功能，业务线组合业务平台的功能
- 4.业务的复用性：业务域划分；职责定位清晰；数据模型和接口设计保证；模块的高复用，做好业务的层次划分

### 可扩展性架构
- 系统：模块+关系
    - 模块：
        - 定位清晰，概念完整
        - 自成体系，粒度适中
    - 关系：
        - 尽量减少依赖，层次化

- 可扩展性的本质：通过拆分，实现模块划分；通过整合，划分模块依赖关系
    - 拆分：水平拆分和垂直拆分
    - 整合：通用化整合和平台化整合

### 可复用架构
- 技术复用：工具层面，复用价值较低
    - 代码复用：算法，SDK之类
    - 技术组件复用：Redis、MQ、Dubbo

- 业务复用
    - 业务实体复用：业务领域，订单、商品、用户
    - 业务流程复用：业务场景，下单流程
    - 产品复用：整个系统，SaaS、PaaS

- 基础服务边界的划分：
    - 完整性原则：要保证服务数据完整、功能全面，这样才能支撑一个完整的业务领域。
    - 一致性原则：服务的数据和指责一直，谁拥有较多的数据，谁就负责提供相应的功能
    - 正交原则：服务之间可以用数据的依赖关系，但没有接口的调用关系

### 高可用架构
&ensp;&ensp;&ensp;&ensp;总体解决思路

- 1.避免问题的发生
- 2.故障转移
- 3.降低影响
- 4.快速恢复

&ensp;&ensp;&ensp;&ensp;三个解决角度

- 正面保障
    - 冗余无单点
    - 水平扩展

- 减少损失
    - 柔性事务
    - 系统可降级：限流、降级、熔断、功能禁用

- 系统可监控

### 高性能和可伸缩
- 高性能的策略和手段
    - 加快单个请求的处理
        - 优化处理路径上每个节点的处理速度
        - 并行处理单个请求
    - 同时处理多个请求
    - 请求处理异步化

- 可伸缩的策略和手段
    - 节点级别的可伸缩
    - 系统级别的可伸缩

- 高性能和可伸缩架构原则
    - 可水平拆分和无状态
    - 短事务和柔性事务
    - 数据可缓存
    - 计算可并行
    - 虚拟化和容器化