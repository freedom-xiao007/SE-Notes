# 网络基础知识
***
## 网络的五层
- 应用层：网络协议FTP、SMTP等等，传输报文
- 运输层：TCP、UDP等，传输报文段
- 网络层：IP所在，传输数据报
- 链路层：传输帧
- 物理层：传输比特

## TCP的常问点
### 三次握手建立连接
- 第一次：客户端向服务端发送连接请求
- 第二次：服务端确认收到请求，发送一信息
- 第三次：客户端确认收到服务端的信息，连接建立

### 为什么需要三次握手
- 第一次是请求的发送，此时双方都不确认准备好
- 第二次是确认服务端已经准备好了
- 第三次是确认客户端已经准备好了，可以发送数据了

### 四次握手关闭连接
- 第一次：客户端发送关闭请求
- 第二次：服务端确认收到关闭请求
- 第三次：服务端向客户端发送关闭请求
- 第四次：客户端确认收到关闭请求，连接断开

### TCP关闭时的状态
#### 主动关闭
- FIN_WAIT_1:请求关闭，等待ACK
- FIN_WAIT_2：1收到ACK，转入此状态，等待FIN
- TIME_WAIT：2收到FIN，发送ACK，等待一定时间，自动转入下一个状态
- CLOSEED：关闭

#### 被动关闭
- CLOSE_WAIT：收到对方的FIN，给对方会一个ACK后进入此状态。如果有数据发送就继续发送，发送完就发送FIN，进入下一个状态
- LAST_ACK:等待对方的ACK，然后进入CLOSED

### 地址类型
#### A类：
- 1.0.0.0~126.0.0.0 一个126个
- B类：128.0.0.0~191.255.255.255 一共16382
- C类：192.0.0.0~223.255.255.255 一共209万多
- D类：多点广播（不知道啥意思）
- E类：为将来保留

### 网络中的MAC表、ARP表、路由表
- MAC表：用于交换机的发送，根据MAC准确发送
- ARP表：负责MAC地址的转换，确定发送方的地址，在网络层
- 路由表：在网络层，路由器信息

## 参考链接
- [TCP连接的状态](http://www.cnblogs.com/fczjuever/archive/2013/04/05/3000680.html)
- [详解网络传输中的三张表，MAC地址表、ARP缓存表以及路由表](http://dengqi.blog.51cto.com/5685776/1223132)